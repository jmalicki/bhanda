/* Generated by the Nim Compiler v2.2.4 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI33555173 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI134217746 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI1241514042 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1275068419 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI1241514054 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1241514051 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1241514048 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1191182340 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI134217742 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI1375731715 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI134217745 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI553648164 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1241513990 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1241513989 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1241513987 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1241513993 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1191182379 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI134217749 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI134217751 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI1073741828 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1073741827 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1224736771 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI1224736772 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1073741837 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1090519050 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1090519046 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33555167 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555175 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33554449 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI33554450 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI33555174 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33555171 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555172 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI134217741 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI134217743 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI1090519044 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI1090519043 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI1090519045 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1090519069 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI33554435 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI1358954500 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1107296259 = {size: 0,kind: 44,base: null,node: null,finalizer: null};
var NTI1107296260 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NNI1107296260 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "a0", len: 0, typ: NTI1107296259, name: "a0", sons: null}, 
{kind: 1, offset: "a1", len: 0, typ: NTI1107296259, name: "a1", sons: null}]};
NTI1107296260.node = NNI1107296260;
var NNI1358954500 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "ante", len: 0, typ: NTI33554435, name: "ante", sons: null}, 
{kind: 1, offset: "roundInAnte", len: 0, typ: NTI33554435, name: "roundInAnte", sons: null}]};
NTI1358954500.node = NNI1358954500;
var NNI1090519043 = {kind: 2, offset: 0, typ: null, name: null, len: 4, sons: {"0": {kind: 1, offset: 0, typ: NTI1090519043, name: "Spades", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI1090519043, name: "Hearts", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI1090519043, name: "Diamonds", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI1090519043, name: "Clubs", len: 0, sons: null}}};
NTI1090519043.node = NNI1090519043;
var NNI1090519044 = {kind: 2, offset: 0, typ: null, name: null, len: 13, sons: {"2": {kind: 1, offset: 2, typ: NTI1090519044, name: "R2", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI1090519044, name: "R3", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI1090519044, name: "R4", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI1090519044, name: "R5", len: 0, sons: null}, 
"6": {kind: 1, offset: 6, typ: NTI1090519044, name: "R6", len: 0, sons: null}, 
"7": {kind: 1, offset: 7, typ: NTI1090519044, name: "R7", len: 0, sons: null}, 
"8": {kind: 1, offset: 8, typ: NTI1090519044, name: "R8", len: 0, sons: null}, 
"9": {kind: 1, offset: 9, typ: NTI1090519044, name: "R9", len: 0, sons: null}, 
"10": {kind: 1, offset: 10, typ: NTI1090519044, name: "R10", len: 0, sons: null}, 
"11": {kind: 1, offset: 11, typ: NTI1090519044, name: "Jack", len: 0, sons: null}, 
"12": {kind: 1, offset: 12, typ: NTI1090519044, name: "Queen", len: 0, sons: null}, 
"13": {kind: 1, offset: 13, typ: NTI1090519044, name: "King", len: 0, sons: null}, 
"14": {kind: 1, offset: 14, typ: NTI1090519044, name: "Ace", len: 0, sons: null}}};
NTI1090519044.node = NNI1090519044;
var NNI1090519045 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "suit", len: 0, typ: NTI1090519043, name: "suit", sons: null}, 
{kind: 1, offset: "rank", len: 0, typ: NTI1090519044, name: "rank", sons: null}]};
NTI1090519045.node = NNI1090519045;
NTI1090519069.base = NTI1090519045;
var NNI134217743 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217743.node = NNI134217743;
var NNI134217741 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217741.node = NNI134217741;
var NNI33555172 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555172.node = NNI33555172;
NTI33555174.base = NTI33555171;
NTI33555175.base = NTI33555171;
var NNI33555171 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI33555174, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI33554450, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI33554449, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI33554449, name: "trace", sons: null}, 
{kind: 1, offset: "up", len: 0, typ: NTI33555175, name: "up", sons: null}]};
NTI33555171.node = NNI33555171;
var NNI33555167 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555167.node = NNI33555167;
NTI33555171.base = NTI33555167;
NTI33555172.base = NTI33555171;
NTI134217741.base = NTI33555172;
NTI134217743.base = NTI134217741;
NTI1090519050.base = NTI1090519045;
var NNI1090519046 = {kind: 1, offset: "cards", len: 0, typ: NTI1090519050, name: "cards", sons: null};
NTI1090519046.node = NNI1090519046;
var NNI1224736771 = {kind: 2, offset: 0, typ: null, name: null, len: 3, sons: {"0": {kind: 1, offset: 0, typ: NTI1224736771, name: "AddChips", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI1224736771, name: "AddMult", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI1224736771, name: "MultMult", len: 0, sons: null}}};
NTI1224736771.node = NNI1224736771;
var NNI1224736772 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "name", len: 0, typ: NTI33554449, name: "name", sons: null}, 
{kind: 1, offset: "effect", len: 0, typ: NTI1224736771, name: "effect", sons: null}, 
{kind: 1, offset: "value", len: 0, typ: NTI33554435, name: "value", sons: null}]};
NTI1224736772.node = NNI1224736772;
NTI1073741837.base = NTI1224736772;
NTI1073741828.base = NTI1224736772;
var NNI1073741827 = {kind: 2, len: 6, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "progress", len: 0, typ: NTI1358954500, name: "progress", sons: null}, 
{kind: 1, offset: "money", len: 0, typ: NTI33554435, name: "money", sons: null}, 
{kind: 1, offset: "deck", len: 0, typ: NTI1090519046, name: "deck", sons: null}, 
{kind: 1, offset: "jokers", len: 0, typ: NTI1073741828, name: "jokers", sons: null}, 
{kind: 1, offset: "handsPerRound", len: 0, typ: NTI33554435, name: "handsPerRound", sons: null}, 
{kind: 1, offset: "discardsPerRound", len: 0, typ: NTI33554435, name: "discardsPerRound", sons: null}]};
NTI1073741827.node = NNI1073741827;
var NNI134217751 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217751.node = NNI134217751;
NTI134217751.base = NTI33555172;
var NNI134217749 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217749.node = NNI134217749;
NTI134217749.base = NTI33555172;
NTI1191182379.base = NTI1090519045;
NTI1241513993.base = NTI1224736772;
NTI1241513989.base = NTI1090519045;
NTI1241513990.base = NTI1224736772;
var NNI1241513987 = {kind: 2, len: 6, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "handsLeft", len: 0, typ: NTI33554435, name: "handsLeft", sons: null}, 
{kind: 1, offset: "discardsLeft", len: 0, typ: NTI33554435, name: "discardsLeft", sons: null}, 
{kind: 1, offset: "hand", len: 0, typ: NTI1241513989, name: "hand", sons: null}, 
{kind: 1, offset: "deck", len: 0, typ: NTI1090519046, name: "deck", sons: null}, 
{kind: 1, offset: "targetChips", len: 0, typ: NTI33554435, name: "targetChips", sons: null}, 
{kind: 1, offset: "jokers", len: 0, typ: NTI1241513990, name: "jokers", sons: null}]};
NTI1241513987.node = NNI1241513987;
NTI553648164.base = NTI33554435;
var NNI134217745 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217745.node = NNI134217745;
NTI134217745.base = NTI33555172;
var NNI1375731715 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "joker", len: 0, typ: NTI1224736772, name: "joker", sons: null}, 
{kind: 1, offset: "price", len: 0, typ: NTI33554435, name: "price", sons: null}]};
NTI1375731715.node = NNI1375731715;
var NNI134217742 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217742.node = NNI134217742;
NTI134217742.base = NTI134217741;
var NNI1191182340 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI33554435, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554435, name: "Field1", sons: null}]};
NTI1191182340.node = NNI1191182340;
var NNI1241514054 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI1275068419, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554435, name: "Field1", sons: null}]};
NTI1241514054.node = NNI1241514054;
NTI1241514051.base = NTI1241514054;
var NNI1241514048 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI1241514051, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI33554435, name: "counter", sons: null}]};
NTI1241514048.node = NNI1241514048;
NTI1241514042.base = NTI1090519045;
var NNI134217746 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217746.node = NNI134217746;
var NNI33555173 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555173.node = NNI33555173;
NTI33555173.base = NTI33555171;
NTI134217746.base = NTI33555173;
var DefaultRandSeed_1107296270 = {a0: 7616934476015405061n, a1: 15122295919272093642n};

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_p0, src_p1, ti_p2) {
  var result_33557330 = null;

    switch (ti_p2.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer__system_u2878(ti_p2))) {
      result_33557330 = src_p1;
      }
      else {
        result_33557330 = [src_p1[0], src_p1[1]];
      }
      
      break;
    case 19:
            if (dest_p0 === null || dest_p0 === undefined) {
        dest_p0 = {};
      }
      else {
        for (var key in dest_p0) { delete dest_p0[key]; }
      }
      for (var key in src_p1) { dest_p0[key] = src_p1[key]; }
      result_33557330 = dest_p0;
    
      break;
    case 18:
    case 17:
      if (!((ti_p2.base == null))) {
      result_33557330 = nimCopy(dest_p0, src_p1, ti_p2.base);
      }
      else {
      if ((ti_p2.kind == 17)) {
      result_33557330 = (dest_p0 === null || dest_p0 === undefined) ? {m_type: ti_p2} : dest_p0;
      }
      else {
        result_33557330 = (dest_p0 === null || dest_p0 === undefined) ? {} : dest_p0;
      }
      }
      nimCopyAux(result_33557330, src_p1, ti_p2.node);
      break;
    case 4:
    case 16:
            if(ArrayBuffer.isView(src_p1)) { 
        if(dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new src_p1.constructor(src_p1);
        } else {
          dest_p0.set(src_p1, 0);
        }
        result_33557330 = dest_p0;
      } else {
        if (src_p1 === null) {
          result_33557330 = null;
        }
        else {
          if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
            dest_p0 = new Array(src_p1.length);
          }
          result_33557330 = dest_p0;
          for (var i = 0; i < src_p1.length; ++i) {
            result_33557330[i] = nimCopy(result_33557330[i], src_p1[i], ti_p2.base);
          }
        }
      }
    
      break;
    case 24:
    case 27:
            if (src_p1 === null) {
        result_33557330 = null;
      }
      else {
        if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new Array(src_p1.length);
        }
        result_33557330 = dest_p0;
        for (var i = 0; i < src_p1.length; ++i) {
          result_33557330[i] = nimCopy(result_33557330[i], src_p1[i], ti_p2.base);
        }
      }
    
      break;
    case 28:
            if (src_p1 !== null) {
        result_33557330 = src_p1.slice(0);
      }
    
      break;
    default: 
      result_33557330 = src_p1;
      break;
    }

  return result_33557330;

}

function isObj(obj_p0, subclass_p1) {
  var result_33557443 = false;

  BeforeRet: {
    var x_33557444 = obj_p0;
    if ((x_33557444 == subclass_p1)) {
    result_33557443 = true;
    break BeforeRet;
    }
    
    Label1: {
        Label2: while (true) {
        if (!!((x_33557444 == subclass_p1))) break Label2;
          if ((x_33557444 == null)) {
          result_33557443 = false;
          break BeforeRet;
          }
          
          x_33557444 = x_33557444.base;
        }
    };
    result_33557443 = true;
    break BeforeRet;
  };

  return result_33557443;

}

function toJSStr(s_p0) {
  var result_33556919 = null;

    var res_33556973 = newSeq__system_u2516((s_p0).length);
    var i_33556974 = 0;
    var j_33556975 = 0;
    Label1: {
        Label2: while (true) {
        if (!(i_33556974 < (s_p0).length)) break Label2;
          var c_33556976 = s_p0[i_33556974];
          if ((c_33556976 < 128)) {
          res_33556973[j_33556975] = String.fromCharCode(c_33556976);
          i_33556974 += 1;
          }
          else {
            var helper_33557002 = newSeq__system_u2516(0);
            Label3: {
                Label4: while (true) {
                if (!true) break Label4;
                  var code_33557003 = c_33556976.toString(16);
                  if ((((code_33557003) == null ? 0 : (code_33557003).length) == 1)) {
                  helper_33557002.push("%0");;
                  }
                  else {
                  helper_33557002.push("%");;
                  }
                  
                  helper_33557002.push(code_33557003);;
                  i_33556974 += 1;
                  if ((((s_p0).length <= i_33556974) || (s_p0[i_33556974] < 128))) {
                  break Label3;
                  }
                  
                  c_33556976 = s_p0[i_33556974];
                }
            };
++excHandler;
            try {
            res_33556973[j_33556975] = decodeURIComponent(helper_33557002.join(""));
--excHandler;
} catch (EXCEPTION) {
 var prevJSError = lastJSError;
 lastJSError = EXCEPTION;
 --excHandler;
            raiseDefect();
            res_33556973[j_33556975] = helper_33557002.join("");
            lastJSError = prevJSError;
            } finally {
            }
          }
          
          j_33556975 += 1;
        }
    };
    if (res_33556973.length < j_33556975) { for (var i = res_33556973.length ; i < j_33556975 ; ++i) res_33556973.push(null); }
               else { res_33556973.length = j_33556975; };
    result_33556919 = res_33556973.join("");

  return result_33556919;

}

function raiseException(e_p0, ename_p1) {
    e_p0.name = ename_p1;
    if ((excHandler == 0)) {
    unhandledException(e_p0);
    }
    
    throw e_p0;

  
}

function addInt(a_p0, b_p1) {
        var result = a_p0 + b_p1;
    checkOverflowInt(result);
    return result;
  

  
}
                      var helper_1107296303 = new BigUint64Array([13739361407582206667n, 15594563132006766882n]);

function mnewString(len_p0) {
        var result = new Array(len_p0);
    for (var i = 0; i < len_p0; i++) {result[i] = 0;}
    return result;
  

  
}

function chckRange(i_p0, a_p1, b_p2) {
  var result_33557370 = 0;

  BeforeRet: {
    if (((a_p1 <= i_p0) && (i_p0 <= b_p2))) {
    result_33557370 = i_p0;
    break BeforeRet;
    }
    else {
    raiseRangeError();
    }
    
  };

  return result_33557370;

}

function chckIndx(i_p0, a_p1, b_p2) {
  var result_33557365 = 0;

  BeforeRet: {
    if (((a_p1 <= i_p0) && (i_p0 <= b_p2))) {
    result_33557365 = i_p0;
    break BeforeRet;
    }
    else {
    raiseIndexError(i_p0, a_p1, b_p2);
    }
    
  };

  return result_33557365;

}

function subInt(a_p0, b_p1) {
        var result = a_p0 - b_p1;
    checkOverflowInt(result);
    return result;
  

  
}

function nimMin(a_p0, b_p1) {
    var Temporary1;

  var result_33557153 = 0;

  BeforeRet: {
    if ((a_p0 <= b_p1)) {
    Temporary1 = a_p0;
    }
    else {
    Temporary1 = b_p1;
    }
    
    result_33557153 = Temporary1;
    break BeforeRet;
  };

  return result_33557153;

}

function mulInt(a_p0, b_p1) {
        var result = a_p0 * b_p1;
    checkOverflowInt(result);
    return result;
  

  
}

function eqStrings(a_p0, b_p1) {
        if (a_p0 == b_p1) return true;
    if (a_p0 === null && b_p1.length == 0) return true;
    if (b_p1 === null && a_p0.length == 0) return true;
    if ((!a_p0) || (!b_p1)) return false;
    var alen = a_p0.length;
    if (alen != b_p1.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_p0[i] != b_p1[i]) return false;
    return true;
  

  
}

function makeNimstrLit(c_p0) {
      var result = [];
  for (var i = 0; i < c_p0.length; ++i) {
    result[i] = c_p0.charCodeAt(i);
  }
  return result;
  

  
}
    var a_1409286154 = [[50], [51], [52], [53], [54], [55], [56], [57], [49,48], [74], [81], [75], [65]];

function divInt(a_p0, b_p1) {
        if (b_p1 == 0) raiseDivByZero();
    if (b_p1 == -1 && a_p0 == 2147483647) raiseOverflow();
    return Math.trunc(a_p0 / b_p1);
  

  
}

function nimMax(a_p0, b_p1) {
    var Temporary1;

  var result_33557157 = 0;

  BeforeRet: {
    if ((b_p1 <= a_p0)) {
    Temporary1 = a_p0;
    }
    else {
    Temporary1 = b_p1;
    }
    
    result_33557157 = Temporary1;
    break BeforeRet;
  };

  return result_33557157;

}
var ConstSet2 = setConstr([48, 57]);
var ConstSet3 = setConstr([48, 57]);

function divInt64(a_p0, b_p1) {
        if (b_p1 == 0n) raiseDivByZero();
    if (b_p1 == -1n && a_p0 == 9223372036854775807n) raiseOverflow();
    return a_p0 / b_p1;
  

  
}

function cstrToNimstr(c_p0) {
      var ln = c_p0.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_p0.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else {
      if (ch < 2048) {
        result[r] = (ch >> 6) | 192;
      }
      else {
        if (ch < 55296 || ch >= 57344) {
          result[r] = (ch >> 12) | 224;
        }
        else {
            ++i;
            ch = 65536 + (((ch & 1023) << 10) | (c_p0.charCodeAt(i) & 1023));
            result[r] = (ch >> 18) | 240;
            ++r;
            result[r] = ((ch >> 12) & 63) | 128;
        }
        ++r;
        result[r] = ((ch >> 6) & 63) | 128;
      }
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  return result;
  

  
}
if (globalThis.utcInstance_1124075265 === undefined) {
  globalThis.utcInstance_1124075265 = [null];
}
if (globalThis.localInstance_1124075266 === undefined) {
  globalThis.localInstance_1124075266 = [null];
}

function isFatPointer__system_u2878(ti_p0) {
  var result_33557312 = false;

  BeforeRet: {
    result_33557312 = !((ConstSet1[ti_p0.base.kind] != undefined));
    break BeforeRet;
  };

  return result_33557312;

}

function nimCopyAux(dest_p0, src_p1, n_p2) {
    switch (n_p2.kind) {
    case 0:
      break;
    case 1:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_p2.sons.length; i++) {
      nimCopyAux(dest_p0, src_p1, n_p2.sons[i]);
    }
    
      break;
    case 3:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
      for (var i = 0; i < n_p2.sons.length; ++i) {
        nimCopyAux(dest_p0, src_p1, n_p2.sons[i][1]);
      }
    
      break;
    }

  
}
var state_1107296271 = [nimCopy(null, DefaultRandSeed_1107296270, NTI1107296260)];
var objectID_1275068594 = [0];

function newSeq__cards_u50(len_p0) {
  var result_1090519094 = [];

    result_1090519094 = new Array(len_p0); for (var i = 0 ; i < len_p0 ; ++i) { result_1090519094[i] = ({suit: 0, rank: 0}); }
  return result_1090519094;

}

function add__system_u1942(x_p0, x_p0_Idx, y_p1) {
          if (x_p0[x_p0_Idx] === null) { x_p0[x_p0_Idx] = []; }
      var off = x_p0[x_p0_Idx].length;
      x_p0[x_p0_Idx].length += y_p1.length;
      for (var i = 0; i < y_p1.length; ++i) {
        x_p0[x_p0_Idx][off+i] = y_p1.charCodeAt(i);
      }
    

  
}

function newSeq__system_u2516(len_p0) {
  var result_33556952 = [];

    result_33556952 = new Array(len_p0); for (var i = 0 ; i < len_p0 ; ++i) { result_33556952[i] = null; }
  return result_33556952;

}

function isNimException__system_u2017() {
    return lastJSError && lastJSError.m_type;

  
}

function getCurrentException() {
  var result_33556452 = null;

    if (isNimException__system_u2017()) {
    result_33556452 = lastJSError;
    }
    

  return result_33556452;

}

function raiseDefect() {
    if (isNimException__system_u2017()) {
    var e_33556664 = getCurrentException();
    if (isObj(e_33556664.m_type, NTI33555172)) {
    if ((excHandler == 0)) {
    unhandledException(e_33556664);
    }
    
    throw e_33556664;
    }
    
    }
    

  
}

function unhandledException(e_p0) {
    var buf_33556658 = [[]];
    if (!(((e_p0.message).length == 0))) {
    buf_33556658[0].push.apply(buf_33556658[0], [69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110,58,32]);;
    buf_33556658[0].push.apply(buf_33556658[0], e_p0.message);;
    }
    else {
    buf_33556658[0].push.apply(buf_33556658[0], [69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110]);;
    }
    
    buf_33556658[0].push.apply(buf_33556658[0], [32,91]);;
    add__system_u1942(buf_33556658, 0, e_p0.name);
    buf_33556658[0].push.apply(buf_33556658[0], [93,10]);;
    var cbuf_33556659 = toJSStr(buf_33556658[0]);
      if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_33556659);
  }
  else {
    throw cbuf_33556659;
  }
  

  
}

function raiseOverflow() {
    raiseException({message: [111,118,101,114,45,32,111,114,32,117,110,100,101,114,102,108,111,119], parent: null, m_type: NTI134217743, name: null, trace: [], up: null}, "OverflowDefect");

  
}

function checkOverflowInt(a_p0) {
        if (a_p0 > 2147483647 || a_p0 < -2147483648) raiseOverflow();
  

  
}

function newDeck__cards_u32() {
  var result_1090519073 = ({cards: []});

    result_1090519073.cards = nimCopy(null, newSeq__cards_u50(0), NTI1090519069);
    Label1: {
      var s_1090519172 = 0;
      Label2: {
        var v_553648351 = 0;
        var res_553648352 = 0;
        Label3: {
            Label4: while (true) {
            if (!(res_553648352 <= 3)) break Label4;
              v_553648351 = res_553648352;
              s_1090519172 = v_553648351;
              Label5: {
                var r_1090519213 = 0;
                Label6: {
                  var v_553648343 = 0;
                  var res_553648344 = 2;
                  Label7: {
                      Label8: while (true) {
                      if (!(res_553648344 <= 14)) break Label8;
                        v_553648343 = res_553648344;
                        r_1090519213 = v_553648343;
                        result_1090519073.cards.push({suit: s_1090519172, rank: r_1090519213});;
                        res_553648344 = addInt(res_553648344, 1);
                      }
                  };
                };
              };
              res_553648352 = addInt(res_553648352, 1);
            }
        };
      };
    };

  return result_1090519073;

}

function initRunState__game_u14() {
  var result_1073741839 = ({progress: ({ante: 0, roundInAnte: 0}), money: 0, deck: ({cards: []}), jokers: [], handsPerRound: 0, discardsPerRound: 0});

    result_1073741839.progress = nimCopy(result_1073741839.progress, {ante: 1, roundInAnte: 0}, NTI1358954500);
    result_1073741839.money = 10;
    result_1073741839.deck = nimCopy(result_1073741839.deck, newDeck__cards_u32(), NTI1090519046);
    result_1073741839.jokers = nimCopy(null, [], NTI1073741837);
    result_1073741839.handsPerRound = 4;
    result_1073741839.discardsPerRound = 2;

  return result_1073741839;

}

function raiseRangeError() {
    raiseException({message: [118,97,108,117,101,32,111,117,116,32,111,102,32,114,97,110,103,101], parent: null, m_type: NTI134217751, name: null, trace: [], up: null}, "RangeDefect");

  
}

function addChars__stdZprivateZdigitsutils_u202(result_p0, result_p0_Idx, x_p1, start_p2, n_p3) {
    var Temporary1;

    var old_301990096 = (result_p0[result_p0_Idx]).length;
    if (result_p0[result_p0_Idx].length < (Temporary1 = chckRange(addInt(old_301990096, n_p3), 0, 2147483647), Temporary1)) { for (var i = result_p0[result_p0_Idx].length; i < Temporary1; ++i) result_p0[result_p0_Idx].push(0); }
         else {result_p0[result_p0_Idx].length = Temporary1; };
    Label2: {
      var iHEX60gensym4_301990110 = 0;
      var i_553648367 = 0;
      Label3: {
          Label4: while (true) {
          if (!(i_553648367 < n_p3)) break Label4;
            iHEX60gensym4_301990110 = i_553648367;
            result_p0[result_p0_Idx][chckIndx(addInt(old_301990096, iHEX60gensym4_301990110), 0, (result_p0[result_p0_Idx]).length - 1)] = x_p1.charCodeAt(chckIndx(addInt(start_p2, iHEX60gensym4_301990110), 0, (x_p1).length - 1));
            i_553648367 = addInt(i_553648367, 1);
          }
      };
    };

  
}

function addChars__stdZprivateZdigitsutils_u198(result_p0, result_p0_Idx, x_p1) {
    addChars__stdZprivateZdigitsutils_u202(result_p0, result_p0_Idx, x_p1, 0, ((x_p1) == null ? 0 : (x_p1).length));

  
}

function addInt__stdZprivateZdigitsutils_u223(result_p0, result_p0_Idx, x_p1) {
    addChars__stdZprivateZdigitsutils_u198(result_p0, result_p0_Idx, ((x_p1) + ""));

  
}

function addInt__stdZprivateZdigitsutils_u241(result_p0, result_p0_Idx, x_p1) {
    addInt__stdZprivateZdigitsutils_u223(result_p0, result_p0_Idx, BigInt(x_p1));

  
}

function HEX24__systemZdollars_u14(xHEX60gensym0_p0) {
  var result_385875984 = [[]];

    result_385875984[0] = nimCopy(null, [], NTI33554449);
    addInt__stdZprivateZdigitsutils_u241(result_385875984, 0, xHEX60gensym0_p0);

  return result_385875984[0];

}

function raiseIndexError(i_p0, a_p1, b_p2) {
    var Temporary1;

    if ((b_p2 < a_p1)) {
    Temporary1 = [105,110,100,101,120,32,111,117,116,32,111,102,32,98,111,117,110,100,115,44,32,116,104,101,32,99,111,110,116,97,105,110,101,114,32,105,115,32,101,109,112,116,121];
    }
    else {
    Temporary1 = ([105,110,100,101,120,32]).concat(HEX24__systemZdollars_u14(i_p0),[32,110,111,116,32,105,110,32],HEX24__systemZdollars_u14(a_p1),[32,46,46,32],HEX24__systemZdollars_u14(b_p2));
    }
    
    raiseException({message: nimCopy(null, Temporary1, NTI33554449), parent: null, m_type: NTI134217749, name: null, trace: [], up: null}, "IndexDefect");

  
}

function rotl__pureZrandom_u24(x_p0, k_p1) {
  var result_1107296283 = 0n;

    result_1107296283 = (BigInt.asUintN(64, x_p0 << BigInt(k_p1)) | (x_p0 >> BigInt(BigInt.asUintN(64, (64n - k_p1)))));

  return result_1107296283;

}

function next__pureZrandom_u36(r_p0) {
  var result_1107296294 = 0n;

    var s0_1107296295 = r_p0.a0;
    var s1_1107296296 = r_p0.a1;
    result_1107296294 = BigInt.asUintN(64, (s0_1107296295 + s1_1107296296));
    s1_1107296296 = (s1_1107296296 ^ s0_1107296295);
    r_p0.a0 = ((rotl__pureZrandom_u24(s0_1107296295, 55n) ^ s1_1107296296) ^ BigInt.asUintN(64, s1_1107296296 << BigInt(14)));
    r_p0.a1 = rotl__pureZrandom_u24(s1_1107296296, 36n);

  return result_1107296294;

}

function skipRandomNumbers__pureZrandom_u45(s_p0) {
    var s0_1107296304 = 0n;
    var s1_1107296305 = 0n;
    Label1: {
      var i_1107296314 = 0;
      var res_553648361 = 0;
      Label2: {
          Label3: while (true) {
          if (!(res_553648361 <= 1)) break Label3;
            i_1107296314 = res_553648361;
            Label4: {
              var b_1107296319 = 0;
              var i_553648359 = 0;
              Label5: {
                  Label6: while (true) {
                  if (!(i_553648359 < 64)) break Label6;
                    b_1107296319 = i_553648359;
                    if (!(((helper_1107296303[chckIndx(i_1107296314, 0, (helper_1107296303).length - 1)] & BigInt.asUintN(64, 1n << BigInt(BigInt.asUintN(64, BigInt(b_1107296319))))) == 0n))) {
                    s0_1107296304 = (s0_1107296304 ^ s_p0.a0);
                    s1_1107296305 = (s1_1107296305 ^ s_p0.a1);
                    }
                    
                    (next__pureZrandom_u36(s_p0));
                    i_553648359 = addInt(i_553648359, 1);
                  }
              };
            };
            res_553648361 = addInt(res_553648361, 1);
          }
      };
    };
    s_p0.a0 = s0_1107296304;
    s_p0.a1 = s1_1107296305;

  
}

function initRand__pureZrandom_u250(seed_p0) {
    var Temporary1;

  var result_1107296508 = [({a0: 0n, a1: 0n})];

    if (!((seed_p0 == 0n))) {
    Temporary1 = seed_p0;
    }
    else {
    Temporary1 = 2147483647n;
    }
    
    var seed_1107296514 = Temporary1;
    result_1107296508[0] = nimCopy(result_1107296508[0], {a0: BigInt.asUintN(64, (seed_1107296514 >> BigInt(16))), a1: BigInt.asUintN(64, (seed_1107296514 & 65535n))}, NTI1107296260);
    skipRandomNumbers__pureZrandom_u45(result_1107296508[0]);
    (next__pureZrandom_u36(result_1107296508[0]));

  return result_1107296508[0];

}

function randomize__pureZrandom_u280(seed_p0) {
    state_1107296271[0] = nimCopy(state_1107296271[0], initRand__pureZrandom_u250(seed_p0), NTI1107296260);

  
}

function rand__pureZrandom_u112(r_p0, max_p1) {
  var result_1107296372 = 0n;

  BeforeRet: {
    if ((max_p1 == 0n)) {
    break BeforeRet;
    }
    else {
      var max_1107296373 = max_p1;
      if ((max_1107296373 == 18446744073709551615n)) {
      result_1107296372 = next__pureZrandom_u36(r_p0);
      break BeforeRet;
      }
      
      var iters_1107296386 = 0;
      Label1: {
          Label2: while (true) {
          if (!true) break Label2;
            var x_1107296387 = next__pureZrandom_u36(r_p0);
            if (((x_1107296387 <= BigInt.asUintN(64, (18446744073709551615n - (18446744073709551615n % max_1107296373)))) || (20 < iters_1107296386))) {
            result_1107296372 = (x_1107296387 % BigInt.asUintN(64, (max_1107296373 + 1n)));
            break BeforeRet;
            }
            else {
            iters_1107296386 = addInt(iters_1107296386, 1);
            }
            
          }
      };
    }
    
  };

  return result_1107296372;

}

function rand__pureZrandom_u108(r_p0, max_p1) {
  var result_1107296367 = 0;

    result_1107296367 = Number(BigInt.asIntN(32, rand__pureZrandom_u112(r_p0, BigInt.asUintN(64, BigInt(max_p1)))));

  return result_1107296367;

}

function shuffle__cards_u184(r_p0, x_p1) {
    Label1: {
      var i_1090519236 = 0;
      var colontmp__553648370 = 0;
      colontmp__553648370 = (x_p1).length - 1;
      var res_553648372 = colontmp__553648370;
      Label2: {
          Label3: while (true) {
          if (!(1 <= res_553648372)) break Label3;
            i_1090519236 = res_553648372;
            var j_1090519237 = rand__pureZrandom_u108(r_p0, chckRange(i_1090519236, 0, 2147483647));
            var HEX3Atmp_553648375 = nimCopy(null, x_p1[chckIndx(i_1090519236, 0, (x_p1).length - 1)], NTI1090519045);
            x_p1[chckIndx(i_1090519236, 0, (x_p1).length - 1)] = nimCopy(x_p1[chckIndx(i_1090519236, 0, (x_p1).length - 1)], x_p1[chckIndx(j_1090519237, 0, (x_p1).length - 1)], NTI1090519045);
            x_p1[chckIndx(j_1090519237, 0, (x_p1).length - 1)] = nimCopy(x_p1[chckIndx(j_1090519237, 0, (x_p1).length - 1)], HEX3Atmp_553648375, NTI1090519045);
            res_553648372 = subInt(res_553648372, 1);
          }
      };
    };

  
}

function shuffle__cards_u181(x_p0) {
    shuffle__cards_u184(state_1107296271[0], x_p0);

  
}

function shuffle__cards_u178(d_p0, seed_p1) {
    if (!((seed_p1 == 0))) {
    randomize__pureZrandom_u280(BigInt(seed_p1));
    }
    
    shuffle__cards_u181(d_p0.cards);

  
}

function pop__cards_u251(s_p0, s_p0_Idx) {
  var result_1090519294 = ({suit: 0, rank: 0});

    var L_1090519298 = subInt((s_p0[s_p0_Idx]).length, 1);
    result_1090519294 = nimCopy(result_1090519294, s_p0[s_p0_Idx][chckIndx(L_1090519298, 0, (s_p0[s_p0_Idx]).length - 1)], NTI1090519045);
    if (s_p0[s_p0_Idx].length < chckRange(L_1090519298, 0, 2147483647)) { for (var i = s_p0[s_p0_Idx].length ; i < chckRange(L_1090519298, 0, 2147483647) ; ++i) s_p0[s_p0_Idx].push(({suit: 0, rank: 0})); }
               else { s_p0[s_p0_Idx].length = chckRange(L_1090519298, 0, 2147483647); };

  return result_1090519294;

}

function draw__cards_u217(d_p0, n_p1) {
  var result_1090519260 = [];

    result_1090519260 = nimCopy(null, newSeq__cards_u50(0), NTI1090519069);
    var take_1090519285 = nimMin(n_p1, (d_p0.cards).length);
    Label1: {
      var i_1090519290 = 0;
      var i_553648377 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_553648377 < take_1090519285)) break Label3;
            i_1090519290 = i_553648377;
            result_1090519260.push(pop__cards_u251(d_p0, "cards"));;
            i_553648377 = addInt(i_553648377, 1);
          }
      };
    };

  return result_1090519260;

}

function HEX40__poker_u79(a_p0) {
  var result_1191182418 = [];

    result_1191182418 = new Array(chckRange((a_p0).length, 0, 2147483647)); for (var i = 0 ; i < chckRange((a_p0).length, 0, 2147483647) ; ++i) { result_1191182418[i] = ({suit: 0, rank: 0}); }    Label1: {
      var i_1191182434 = 0;
      var colontmp__553648380 = 0;
      colontmp__553648380 = subInt((a_p0).length, 1);
      var res_553648381 = 0;
      Label2: {
          Label3: while (true) {
          if (!(res_553648381 <= colontmp__553648380)) break Label3;
            i_1191182434 = res_553648381;
            result_1191182418[chckIndx(i_1191182434, 0, (result_1191182418).length - 1)] = nimCopy(result_1191182418[chckIndx(i_1191182434, 0, (result_1191182418).length - 1)], a_p0[chckIndx(i_1191182434, 0, (a_p0).length - 1)], NTI1090519045);
            res_553648381 = addInt(res_553648381, 1);
          }
      };
    };

  return result_1191182418;

}

function startRound__round_u19(handsPerRound_p0, discardsPerRound_p1, targetChips_p2, deck_p3, jokers_p4, seed_p5) {
  var result_1241514010 = ({handsLeft: 0, discardsLeft: 0, hand: [], deck: ({cards: []}), targetChips: 0, jokers: []});

    var d_1241514011 = [nimCopy(null, deck_p3, NTI1090519046)];
    shuffle__cards_u178(d_1241514011[0], seed_p5);
    var initialDraw_1241514012 = draw__cards_u217(d_1241514011[0], 8);
    result_1241514010.handsLeft = handsPerRound_p0;
    result_1241514010.discardsLeft = discardsPerRound_p1;
    result_1241514010.hand = nimCopy(null, HEX40__poker_u79(initialDraw_1241514012), NTI1191182379);
    result_1241514010.deck = nimCopy(result_1241514010.deck, d_1241514011[0], NTI1090519046);
    result_1241514010.targetChips = targetChips_p2;
    result_1241514010.jokers = nimCopy(null, jokers_p4, NTI1241513993);

  return result_1241514010;

}

function targetChipsForBlind__blinds_u11(ante_p0, blind_p1) {
    var Temporary1;

  var result_1358954510 = 0;

    switch (blind_p1) {
    case 0:
      Temporary1 = 300;
      break;
    case 1:
      Temporary1 = 600;
      break;
    case 2:
      Temporary1 = 900;
      break;
    }
    var base_1358954511 = Temporary1;
    result_1358954510 = mulInt(base_1358954511, ante_p0);

  return result_1358954510;

}

function currentBlind__blinds_u16(progress_p0) {
    var Temporary1;

  var result_1358954514 = 0;

    if (    progress_p0.roundInAnte == 0    ){      Temporary1 = 0;
      }
    else if (    progress_p0.roundInAnte == 1    ){      Temporary1 = 1;
      }
    else if (    progress_p0.roundInAnte == 2    ){      Temporary1 = 2;
      }
    else{
      Temporary1 = 2;
      }
    result_1358954514 = Temporary1;

  return result_1358954514;

}

function targetChips__blinds_u48(progress_p0) {
  var result_1358954546 = 0;

    result_1358954546 = targetChipsForBlind__blinds_u11(progress_p0.ante, currentBlind__blinds_u16(progress_p0));

  return result_1358954546;

}

function find__ui_u85(a_p0, item_p1) {
  var result_1392509018 = 0;

  BeforeRet: {
    result_1392509018 = 0;
    Label1: {
      var i_1392509022 = 0;
      var i_553648389 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_553648389 < (a_p0).length)) break Label3;
            i_1392509022 = a_p0[chckIndx(i_553648389, 0, (a_p0).length - 1)];
            if ((i_1392509022 == item_p1)) {
            break BeforeRet;
            }
            
            result_1392509018 = addInt(result_1392509018, 1);
            i_553648389 += 1;
          }
      };
    };
    result_1392509018 = (-1);
  };

  return result_1392509018;

}

function contains__ui_u80(a_p0, item_p1) {
  var result_1392509012 = false;

  BeforeRet: {
    result_1392509012 = (0 <= find__ui_u85(a_p0, item_p1));
    break BeforeRet;
  };

  return result_1392509012;

}

function cardFrameSvg__card95svg_u23() {
  var result_1409286168 = [];

    result_1409286168 = nimCopy(null, makeNimstrLit("<rect x=\"1\" y=\"1\" width=\"80\" height=\"112\" rx=\"4\" ry=\"4\" fill=\"white\" stroke=\"#333\" stroke-width=\"1\"/>"), NTI33554449);

  return result_1409286168;

}

function rankStr__card95svg_u7(r_p0) {
  var result_1409286153 = [];

    result_1409286153 = nimCopy(null, a_1409286154[chckIndx(((r_p0) | 0), 2, (a_1409286154).length + (2) - 1) - (2)], NTI33554449);

  return result_1409286153;

}

function suitSymbol__card95svg_u4(s_p0) {
    var Temporary1;

  var result_1409286150 = [];

    switch (s_p0) {
    case 0:
      Temporary1 = [226,153,160];
      break;
    case 1:
      Temporary1 = [226,153,165];
      break;
    case 2:
      Temporary1 = [226,153,166];
      break;
    case 3:
      Temporary1 = [226,153,163];
      break;
    }
    result_1409286150 = nimCopy(null, Temporary1, NTI33554449);

  return result_1409286150;

}

function nimFloatToString__stdZformatfloat_u130(a_p0) {
  var result_402653316 = null;

          function nimOnlyDigitsOrMinus(n) {
        return n.toString().match(/^-?\d+$/);
      }
      if (Number.isSafeInteger(a_p0))
        result_402653316 = a_p0 === 0 && 1 / a_p0 < 0 ? "-0.0" : a_p0+".0";
      else if (isNaN(a_p0)) // Number.isNaN is since ES6
        result_402653316 = "nan";  // or it'll be "NaN"
      else if (!isFinite(a_p0)) // Number.isFinite newer but unnecessary here
        result_402653316 = a_p0 > 0 ? "inf" : "-inf";  // or it'll be [-]Infinity
      else {
        result_402653316 = a_p0+"";
        if(nimOnlyDigitsOrMinus(result_402653316)){
          result_402653316 = a_p0+".0";
        }
      }
    

  return result_402653316;

}

function addFloat__system_u3178(result_p0, result_p0_Idx, x_p1) {
    add__system_u1942(result_p0, result_p0_Idx, nimFloatToString__stdZformatfloat_u130(x_p1));

  
}

function HEX24__system_u3174(x_p0) {
  var result_33557609 = [[]];

    result_33557609[0] = nimCopy(null, [], NTI33554449);
    addFloat__system_u3178(result_33557609, 0, x_p0);

  return result_33557609[0];

}

function cornerSvg__card95svg_u25(rankStr_p0, suitSym_p1, x_p2, y_p3) {
  var result_1409286174 = [];

    result_1409286174 = nimCopy(null, ([60,116,101,120,116,32,120,61,34]).concat(HEX24__system_u3174(x_p2),[34,32,121,61,34],HEX24__system_u3174(y_p3),[34,32,102,111,110,116,45,115,105,122,101,61,34,49,50,34,62],rankStr_p0,suitSym_p1,[60,47,116,101,120,116,62]), NTI33554449);

  return result_1409286174;

}

function pipSvg__card95svg_u11(suit_p0, x_p1, y_p2) {
  var result_1409286159 = [];

    var s_1409286160 = suitSymbol__card95svg_u4(suit_p0);
    result_1409286159 = nimCopy(null, ([60,116,101,120,116,32,120,61,34]).concat(HEX24__system_u3174(x_p1),[34,32,121,61,34],HEX24__system_u3174(y_p2),[34,32,116,101,120,116,45,97,110,99,104,111,114,61,34,109,105,100,100,108,101,34,32,102,111,110,116,45,115,105,122,101,61,34,49,52,34,62],s_1409286160,[60,47,116,101,120,116,62]), NTI33554449);

  return result_1409286159;

}

function numberCardPips__card95svg_u37(card_p0) {
    var Temporary1;

  var result_1409286183 = [];

  BeforeRet: {
    var n_1409286184 = ((card_p0.rank) | 0);
    if (((n_1409286184 < 2) || ((10 < n_1409286184) && !((n_1409286184 == 14))))) {
    result_1409286183 = nimCopy(null, [], NTI33554449);
    break BeforeRet;
    }
    
    if ((n_1409286184 == 14)) {
    result_1409286183 = nimCopy(null, pipSvg__card95svg_u11(card_p0.suit, 40.0, 56.0), NTI33554449);
    break BeforeRet;
    }
    
    var cx_1409286185 = 40.0;
    var cy_1409286186 = 56.0;
    if (    n_1409286184 == 2    ){      Temporary1 = (pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 - 15.0))).concat(pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 + 15.0)));
      }
    else if (    n_1409286184 == 3    ){      Temporary1 = (pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 - 20.0))).concat(pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, cy_1409286186),pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 + 20.0)));
      }
    else if (    n_1409286184 == 4    ){      Temporary1 = (pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 - 15.0), (cy_1409286186 - 15.0))).concat(pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 + 15.0), (cy_1409286186 - 15.0)),pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 - 15.0), (cy_1409286186 + 15.0)),pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 + 15.0), (cy_1409286186 + 15.0)));
      }
    else if (    n_1409286184 == 5    ){      Temporary1 = (numberCardPips__card95svg_u37({suit: card_p0.suit, rank: 4})).concat(pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, cy_1409286186));
      }
    else if (    n_1409286184 == 6    ){      Temporary1 = (numberCardPips__card95svg_u37({suit: card_p0.suit, rank: 4})).concat(pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 - 15.0), cy_1409286186),pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 + 15.0), cy_1409286186));
      }
    else if (    n_1409286184 == 7    ){      Temporary1 = (numberCardPips__card95svg_u37({suit: card_p0.suit, rank: 6})).concat(pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 - 10.0)));
      }
    else if (    n_1409286184 == 8    ){      Temporary1 = (numberCardPips__card95svg_u37({suit: card_p0.suit, rank: 6})).concat(pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 - 15.0), (cy_1409286186 - 10.0)),pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 + 15.0), (cy_1409286186 - 10.0)));
      }
    else if (    n_1409286184 == 9    ){      Temporary1 = (numberCardPips__card95svg_u37({suit: card_p0.suit, rank: 6})).concat(pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 - 15.0), (cy_1409286186 - 10.0)),pipSvg__card95svg_u11(card_p0.suit, (cx_1409286185 + 15.0), (cy_1409286186 - 10.0)),pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 + 10.0)));
      }
    else if (    n_1409286184 == 10    ){      Temporary1 = (numberCardPips__card95svg_u37({suit: card_p0.suit, rank: 9})).concat(pipSvg__card95svg_u11(card_p0.suit, cx_1409286185, (cy_1409286186 - 20.0)));
      }
    else{
      Temporary1 = [];
      }
    result_1409286183 = nimCopy(null, Temporary1, NTI33554449);
  };

  return result_1409286183;

}

function faceCardCenter__card95svg_u43(card_p0) {
    var Temporary1;

  var result_1409286189 = [];

    var cx_1409286190 = 40.0;
    var cy_1409286191 = 56.0;
    switch (card_p0.rank) {
    case 11:
      Temporary1 = ([60,116,101,120,116,32,120,61,34]).concat(HEX24__system_u3174(cx_1409286190),[34,32,121,61,34],HEX24__system_u3174(cy_1409286191),[34,32,116,101,120,116,45,97,110,99,104,111,114,61,34,109,105,100,100,108,101,34,32,102,111,110,116,45,115,105,122,101,61,34,50,52,34,62,74,60,47,116,101,120,116,62]);
      break;
    case 12:
      Temporary1 = ([60,116,101,120,116,32,120,61,34]).concat(HEX24__system_u3174(cx_1409286190),[34,32,121,61,34],HEX24__system_u3174(cy_1409286191),[34,32,116,101,120,116,45,97,110,99,104,111,114,61,34,109,105,100,100,108,101,34,32,102,111,110,116,45,115,105,122,101,61,34,50,52,34,62,81,60,47,116,101,120,116,62]);
      break;
    case 13:
      Temporary1 = ([60,116,101,120,116,32,120,61,34]).concat(HEX24__system_u3174(cx_1409286190),[34,32,121,61,34],HEX24__system_u3174(cy_1409286191),[34,32,116,101,120,116,45,97,110,99,104,111,114,61,34,109,105,100,100,108,101,34,32,102,111,110,116,45,115,105,122,101,61,34,50,52,34,62,75,60,47,116,101,120,116,62]);
      break;
    default: 
      Temporary1 = [];
      break;
    }
    result_1409286189 = nimCopy(null, Temporary1, NTI33554449);

  return result_1409286189;

}

function cardToSvg__card95svg_u66(card_p0) {
  var result_1409286212 = [];

    result_1409286212 = nimCopy(null, [60,115,118,103,32,119,105,100,116,104,61,34,56,48,34,32,104,101,105,103,104,116,61,34,49,49,50,34,62], NTI33554449);
    result_1409286212.push.apply(result_1409286212, cardFrameSvg__card95svg_u23());;
    var rs_1409286213 = rankStr__card95svg_u7(card_p0.rank);
    var ss_1409286214 = suitSymbol__card95svg_u4(card_p0.suit);
    result_1409286212.push.apply(result_1409286212, cornerSvg__card95svg_u25(rs_1409286213, ss_1409286214, 6.0, 14.0));;
    result_1409286212.push.apply(result_1409286212, cornerSvg__card95svg_u25(rs_1409286213, ss_1409286214, 74.0, 108.0));;
    if ((((2 <= ((card_p0.rank) | 0)) && (((card_p0.rank) | 0) <= 10)) || (card_p0.rank == 14))) {
    result_1409286212.push.apply(result_1409286212, numberCardPips__card95svg_u37(card_p0));;
    }
    else {
    result_1409286212.push.apply(result_1409286212, faceCardCenter__card95svg_u43(card_p0));;
    }
    
    result_1409286212.push.apply(result_1409286212, [60,47,115,118,103,62]);;

  return result_1409286212;

}

function sysFatal__stdZassertions_u44(message_p1) {
    raiseException({message: nimCopy(null, message_p1, NTI33554449), m_type: NTI134217745, parent: null, name: null, trace: [], up: null}, "AssertionDefect");

  
}

function raiseAssert__stdZassertions_u42(msg_p0) {
    sysFatal__stdZassertions_u44(msg_p0);

  
}

function failedAssertImpl__stdZassertions_u84(msg_p0) {
    raiseAssert__stdZassertions_u42(msg_p0);

  
}

function renderHand__ui_u32(hand_p0, selected_p1) {
            var Temporary4;

  var result_1392508963 = [];

    var s_1392508964 = [60,100,105,118,32,115,116,121,108,101,61,34,100,105,115,112,108,97,121,58,102,108,101,120,59,103,97,112,58,56,112,120,59,102,108,101,120,45,119,114,97,112,58,119,114,97,112,59,34,62];
    Label1: {
      var i_1392509006 = 0;
      var c_1392509007 = ({suit: 0, rank: 0});
      var i_553648385 = 0;
      var L_553648386 = (hand_p0).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648385 < L_553648386)) break Label3;
            i_1392509006 = i_553648385;
            c_1392509007 = nimCopy(c_1392509007, hand_p0[chckIndx(i_553648385, 0, (hand_p0).length - 1)], NTI1090519045);
            if (contains__ui_u80(selected_p1, i_1392509006)) {
            Temporary4 = [98,111,114,100,101,114,58,50,112,120,32,115,111,108,105,100,32,103,111,108,100,59];
            }
            else {
            Temporary4 = [];
            }
            
            var border_1392509028 = nimCopy(null, Temporary4, NTI33554449);
            s_1392508964.push.apply(s_1392508964, ([60,100,105,118,32,115,116,121,108,101,61,34]).concat(border_1392509028,[34,32,100,97,116,97,45,105,110,100,101,120,61,34],HEX24__systemZdollars_u14(i_1392509006),[34,62],cardToSvg__card95svg_u66(c_1392509007),[60,47,100,105,118,62]));;
            i_553648385 += 1;
            if (!(((hand_p0).length == L_553648386))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(187, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    s_1392508964.push.apply(s_1392508964, [60,47,100,105,118,62]);;
    result_1392508963 = nimCopy(null, s_1392508964, NTI33554449);

  return result_1392508963;

}

function getGameElement__ui_u8() {
  var result_1392508937 = null;

    result_1392508937 = document.getElementById("game");

  return result_1392508937;

}

function setGameHtml__ui_u26(html_p0) {
    var el_1392508956 = getGameElement__ui_u8();
    if (!((el_1392508956 == null))) {
    el_1392508956.innerHTML = toJSStr(html_p0);
    }
    

  
}

function renderGame__ui_u101(hand_p0, selected_p1, score_p2, target_p3, handsLeft_p4) {
    var html_1392509035 = ([60,112,62,84,97,114,103,101,116,58,32]).concat(HEX24__systemZdollars_u14(target_p3),[32,124,32,83,99,111,114,101,58,32],HEX24__systemZdollars_u14(score_p2),[32,124,32,72,97,110,100,115,32,108,101,102,116,58,32],HEX24__systemZdollars_u14(handsLeft_p4),[60,47,112,62]);
    html_1392509035.push.apply(html_1392509035, [60,112,62,67,108,105,99,107,32,53,32,99,97,114,100,115,32,116,111,32,112,108,97,121,46,60,47,112,62]);;
    html_1392509035.push.apply(html_1392509035, renderHand__ui_u32(hand_p0, selected_p1));;
    if (((selected_p1).length == 5)) {
    html_1392509035.push.apply(html_1392509035, [60,112,62,60,98,117,116,116,111,110,32,100,97,116,97,45,112,108,97,121,61,34,49,34,62,80,108,97,121,32,104,97,110,100,60,47,98,117,116,116,111,110,62,60,47,112,62]);;
    }
    
    setGameHtml__ui_u26(html_1392509035);

  
}

function renderShop__ui_u111(items_p0, money_p1) {
    var html_1392509042 = ([60,112,62,83,104,111,112,32,124,32,77,111,110,101,121,58,32,36]).concat(HEX24__systemZdollars_u14(money_p1),[60,47,112,62]);
    Label1: {
      var i_1392509086 = 0;
      var it_1392509087 = ({joker: ({name: [], effect: 0, value: 0}), price: 0});
      var i_553648393 = 0;
      var L_553648394 = (items_p0).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648393 < L_553648394)) break Label3;
            i_1392509086 = i_553648393;
            it_1392509087 = nimCopy(it_1392509087, items_p0[chckIndx(i_553648393, 0, (items_p0).length - 1)], NTI1375731715);
            html_1392509042.push.apply(html_1392509042, ([60,98,117,116,116,111,110,32,100,97,116,97,45,98,117,121,61,34]).concat(HEX24__systemZdollars_u14(i_1392509086),[34,62],it_1392509087.joker.name,[32,40,36],HEX24__systemZdollars_u14(it_1392509087.price),[41,60,47,98,117,116,116,111,110,62,32]));;
            i_553648393 += 1;
            if (!(((items_p0).length == L_553648394))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(187, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    html_1392509042.push.apply(html_1392509042, [60,98,117,116,116,111,110,32,100,97,116,97,45,115,107,105,112,62,83,107,105,112,60,47,98,117,116,116,111,110,62,32]);;
    html_1392509042.push.apply(html_1392509042, [60,98,117,116,116,111,110,32,100,97,116,97,45,110,101,120,116,62,78,101,120,116,32,114,111,117,110,100,60,47,98,117,116,116,111,110,62]);;
    setGameHtml__ui_u26(html_1392509042);

  
}

function renderWin__ui_u160() {
    setGameHtml__ui_u26([60,112,62,89,111,117,32,119,111,110,33,60,47,112,62]);

  
}

function renderLose__ui_u161() {
    setGameHtml__ui_u26([60,112,62,71,97,109,101,32,111,118,101,114,46,60,47,112,62]);

  
}

function render__main_u12() {
    if (eqStrings(gMode_553648139[0], [114,111,117,110,100])) {
    renderGame__ui_u101(gRoundState_553648137[0].hand, gSelected_553648138[0], 0, gRoundState_553648137[0].targetChips, gRoundState_553648137[0].handsLeft);
    }
    else {
    if (eqStrings(gMode_553648139[0], [115,104,111,112])) {
    renderShop__ui_u111([], gRunState_553648136[0].money);
    }
    else {
    if (eqStrings(gMode_553648139[0], [119,105,110])) {
    renderWin__ui_u160();
    }
    else {
    if (eqStrings(gMode_553648139[0], [108,111,115,101])) {
    renderLose__ui_u161();
    }
    }}}

  
}

function startNewRound__main_u47() {
    gMode_553648139[0] = nimCopy(null, [114,111,117,110,100], NTI33554449);
    gRoundState_553648137[0] = nimCopy(gRoundState_553648137[0], startRound__round_u19(gRunState_553648136[0].handsPerRound, gRunState_553648136[0].discardsPerRound, targetChips__blinds_u48(gRunState_553648136[0].progress), gRunState_553648136[0].deck, gRunState_553648136[0].jokers, 0), NTI1241513987);
    gRunState_553648136[0].deck = nimCopy(gRunState_553648136[0].deck, gRoundState_553648137[0].deck, NTI1090519046);
    gSelected_553648138[0] = nimCopy(null, [], NTI553648164);
    render__main_u12();

  
}

function countRanks__poker_u259(cards_p0) {
  var result_1191182597 = new Int32Array(13);

    Label1: {
      var r_1191182602 = 0;
      var res_553648414 = 2;
      Label2: {
          Label3: while (true) {
          if (!(res_553648414 <= 14)) break Label3;
            r_1191182602 = res_553648414;
            result_1191182597[chckIndx(r_1191182602, 2, (result_1191182597).length + (2) - 1) - (2)] = 0;
            res_553648414 = addInt(res_553648414, 1);
          }
      };
    };
    Label4: {
      var c_1191182606 = ({suit: 0, rank: 0});
      var i_553648417 = 0;
      var L_553648418 = (cards_p0).length;
      Label5: {
          Label6: while (true) {
          if (!(i_553648417 < L_553648418)) break Label6;
            c_1191182606 = cards_p0[chckIndx(i_553648417, 0, (cards_p0).length - 1)];
            result_1191182597[chckIndx(((c_1191182606.rank) | 0), 2, (result_1191182597).length + (2) - 1) - (2)] = addInt(result_1191182597[chckIndx(((c_1191182606.rank) | 0), 2, (result_1191182597).length + (2) - 1) - (2)], 1);
            i_553648417 += 1;
            if (!(((cards_p0).length == L_553648418))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };

  return result_1191182597;

}

function newSeq__poker_u359(len_p0) {
  var result_1191182699 = [];

    result_1191182699 = new Array(len_p0); for (var i = 0 ; i < len_p0 ; ++i) { result_1191182699[i] = 0; }
  return result_1191182699;

}

function raiseDivByZero() {
    raiseException({message: [100,105,118,105,115,105,111,110,32,98,121,32,122,101,114,111], parent: null, m_type: NTI134217742, name: null, trace: [], up: null}, "DivByZeroDefect");

  
}

function HEX2A__pureZalgorithm_u8(x_p0, order_p1) {
  var result_905969675 = 0;

    var y_905969680 = subInt(order_p1, 1);
    result_905969675 = subInt((x_p0 ^ y_905969680), y_905969680);

  return result_905969675;

}

function mergeAlt__poker_u387(a_p0, b_p1, lo_p2, m_p3, hi_p4, cmp_p5, order_p6) {
  BeforeRet: {
    if ((HEX2A__pureZalgorithm_u8(cmp_p5(a_p0[chckIndx(m_p3, 0, (a_p0).length - 1)], a_p0[chckIndx(addInt(m_p3, 1), 0, (a_p0).length - 1)]), order_p6) <= 0)) {
    break BeforeRet;
    }
    
    var j_1191182734 = lo_p2;
    if (!((j_1191182734 <= m_p3))) {
    failedAssertImpl__stdZassertions_u84([97,108,103,111,114,105,116,104,109,46,110,105,109,40,51,51,56,44,32,51,41,32,96,106,32,60,61,32,109,96,32]);
    }
    
    var bb_1191182740 = 0;
    Label1: {
        Label2: while (true) {
        if (!(j_1191182734 <= m_p3)) break Label2;
          b_p1[chckIndx(bb_1191182740, 0, (b_p1).length - 1)] = a_p0[chckIndx(j_1191182734, 0, (a_p0).length - 1)];
          bb_1191182740 = addInt(bb_1191182740, 1);
          j_1191182734 = addInt(j_1191182734, 1);
        }
    };
    var i_1191182751 = 0;
    var k_1191182752 = lo_p2;
    Label3: {
        Label4: while (true) {
        if (!((k_1191182752 < j_1191182734) && (j_1191182734 <= hi_p4))) break Label4;
          if ((HEX2A__pureZalgorithm_u8(cmp_p5(b_p1[chckIndx(i_1191182751, 0, (b_p1).length - 1)], a_p0[chckIndx(j_1191182734, 0, (a_p0).length - 1)]), order_p6) <= 0)) {
          a_p0[chckIndx(k_1191182752, 0, (a_p0).length - 1)] = b_p1[chckIndx(i_1191182751, 0, (b_p1).length - 1)];
          i_1191182751 = addInt(i_1191182751, 1);
          }
          else {
            a_p0[chckIndx(k_1191182752, 0, (a_p0).length - 1)] = a_p0[chckIndx(j_1191182734, 0, (a_p0).length - 1)];
            j_1191182734 = addInt(j_1191182734, 1);
          }
          
          k_1191182752 = addInt(k_1191182752, 1);
        }
    };
    Label5: {
        Label6: while (true) {
        if (!(k_1191182752 < j_1191182734)) break Label6;
          a_p0[chckIndx(k_1191182752, 0, (a_p0).length - 1)] = b_p1[chckIndx(i_1191182751, 0, (b_p1).length - 1)];
          k_1191182752 = addInt(k_1191182752, 1);
          i_1191182751 = addInt(i_1191182751, 1);
        }
    };
  };

  
}

function sort__poker_u330(a_p0, cmp_p1, order_p2) {
    var n_1191182678 = (a_p0).length;
    var b_1191182720 = newSeq__poker_u359(chckRange(divInt(n_1191182678, 2), 0, 2147483647));
    var s_1191182721 = 1;
    Label1: {
        Label2: while (true) {
        if (!(s_1191182721 < n_1191182678)) break Label2;
          var m_1191182722 = subInt(subInt(n_1191182678, 1), s_1191182721);
          Label3: {
              Label4: while (true) {
              if (!(0 <= m_1191182722)) break Label4;
                mergeAlt__poker_u387(a_p0, b_1191182720, nimMax(addInt(subInt(m_1191182722, s_1191182721), 1), 0), m_1191182722, addInt(m_1191182722, s_1191182721), cmp_p1, order_p2);
                m_1191182722 = subInt(m_1191182722, mulInt(s_1191182721, 2));
              }
          };
          s_1191182721 = mulInt(s_1191182721, 2);
        }
    };

  
}

function cmp__system_u3610(x_p0, y_p1) {
  var result_33558046 = 0;

  BeforeRet: {
    if ((x_p0 == y_p1)) {
    result_33558046 = 0;
    break BeforeRet;
    }
    
    if ((x_p0 < y_p1)) {
    result_33558046 = (-1);
    break BeforeRet;
    }
    
    result_33558046 = 1;
    break BeforeRet;
  };

  return result_33558046;

}

function sort__poker_u292(a_p0, order_p1) {
    var Temporary1;

    Temporary1 = cmp__system_u3610.bind(null); Temporary1.ClP_0 = cmp__system_u3610; Temporary1.ClE_0 = null;
    sort__poker_u330(a_p0, Temporary1, order_p1);

  
}

function isFlush__poker_u29(cards_p0) {
  var result_1191182367 = false;

  BeforeRet: {
    var s_1191182368 = cards_p0[chckIndx(0, 0, (cards_p0).length - 1)].suit;
    Label1: {
      var c_1191182390 = ({suit: 0, rank: 0});
      var i_553648426 = 0;
      var L_553648427 = (cards_p0).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648426 < L_553648427)) break Label3;
            c_1191182390 = cards_p0[chckIndx(i_553648426, 0, (cards_p0).length - 1)];
            if (!((c_1191182390.suit == s_1191182368))) {
            result_1191182367 = false;
            break BeforeRet;
            }
            
            i_553648426 += 1;
            if (!(((cards_p0).length == L_553648427))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    result_1191182367 = true;
  };

  return result_1191182367;

}

function mergeAlt__poker_u144(a_p0, b_p1, lo_p2, m_p3, hi_p4, cmp_p5, order_p6) {
  BeforeRet: {
    if ((HEX2A__pureZalgorithm_u8(cmp_p5(a_p0[chckIndx(m_p3, 0, (a_p0).length - 1)], a_p0[chckIndx(addInt(m_p3, 1), 0, (a_p0).length - 1)]), order_p6) <= 0)) {
    break BeforeRet;
    }
    
    var j_1191182491 = lo_p2;
    if (!((j_1191182491 <= m_p3))) {
    failedAssertImpl__stdZassertions_u84([97,108,103,111,114,105,116,104,109,46,110,105,109,40,51,51,56,44,32,51,41,32,96,106,32,60,61,32,109,96,32]);
    }
    
    var bb_1191182497 = 0;
    Label1: {
        Label2: while (true) {
        if (!(j_1191182491 <= m_p3)) break Label2;
          b_p1[chckIndx(bb_1191182497, 0, (b_p1).length - 1)] = nimCopy(b_p1[chckIndx(bb_1191182497, 0, (b_p1).length - 1)], a_p0[chckIndx(j_1191182491, 0, (a_p0).length - 1)], NTI1090519045);
          bb_1191182497 = addInt(bb_1191182497, 1);
          j_1191182491 = addInt(j_1191182491, 1);
        }
    };
    var i_1191182508 = 0;
    var k_1191182509 = lo_p2;
    Label3: {
        Label4: while (true) {
        if (!((k_1191182509 < j_1191182491) && (j_1191182491 <= hi_p4))) break Label4;
          if ((HEX2A__pureZalgorithm_u8(cmp_p5(b_p1[chckIndx(i_1191182508, 0, (b_p1).length - 1)], a_p0[chckIndx(j_1191182491, 0, (a_p0).length - 1)]), order_p6) <= 0)) {
          a_p0[chckIndx(k_1191182509, 0, (a_p0).length - 1)] = nimCopy(a_p0[chckIndx(k_1191182509, 0, (a_p0).length - 1)], b_p1[chckIndx(i_1191182508, 0, (b_p1).length - 1)], NTI1090519045);
          i_1191182508 = addInt(i_1191182508, 1);
          }
          else {
            a_p0[chckIndx(k_1191182509, 0, (a_p0).length - 1)] = nimCopy(a_p0[chckIndx(k_1191182509, 0, (a_p0).length - 1)], a_p0[chckIndx(j_1191182491, 0, (a_p0).length - 1)], NTI1090519045);
            j_1191182491 = addInt(j_1191182491, 1);
          }
          
          k_1191182509 = addInt(k_1191182509, 1);
        }
    };
    Label5: {
        Label6: while (true) {
        if (!(k_1191182509 < j_1191182491)) break Label6;
          a_p0[chckIndx(k_1191182509, 0, (a_p0).length - 1)] = nimCopy(a_p0[chckIndx(k_1191182509, 0, (a_p0).length - 1)], b_p1[chckIndx(i_1191182508, 0, (b_p1).length - 1)], NTI1090519045);
          k_1191182509 = addInt(k_1191182509, 1);
          i_1191182508 = addInt(i_1191182508, 1);
        }
    };
  };

  
}

function sort__poker_u109(a_p0, cmp_p1, order_p2) {
    var n_1191182456 = (a_p0).length;
    var b_1191182477 = newSeq__cards_u50(chckRange(divInt(n_1191182456, 2), 0, 2147483647));
    var s_1191182478 = 1;
    Label1: {
        Label2: while (true) {
        if (!(s_1191182478 < n_1191182456)) break Label2;
          var m_1191182479 = subInt(subInt(n_1191182456, 1), s_1191182478);
          Label3: {
              Label4: while (true) {
              if (!(0 <= m_1191182479)) break Label4;
                mergeAlt__poker_u144(a_p0, b_1191182477, nimMax(addInt(subInt(m_1191182479, s_1191182478), 1), 0), m_1191182479, addInt(m_1191182479, s_1191182478), cmp_p1, order_p2);
                m_1191182479 = subInt(m_1191182479, mulInt(s_1191182478, 2));
              }
          };
          s_1191182478 = mulInt(s_1191182478, 2);
        }
    };

  
}

function rankValue__poker_u21(r_p0) {
    var Temporary1;

  var result_1191182359 = 0;

    if ((r_p0 == 14)) {
    Temporary1 = 14;
    }
    else {
    Temporary1 = ((r_p0) | 0);
    }
    
    result_1191182359 = Temporary1;

  return result_1191182359;

}

function cardRankOrder__poker_u76(cards_p0) {
    var Temporary1;

function HEX3Aanonymous__poker_u99(a_p0, b_p1) {
  var result_1191182438 = 0;

    result_1191182438 = cmp__system_u3610(rankValue__poker_u21(a_p0.rank), rankValue__poker_u21(b_p1.rank));

  return result_1191182438;

}

  var result_1191182414 = [];

    result_1191182414 = nimCopy(null, HEX40__poker_u79(cards_p0), NTI1191182379);
    Temporary1 = HEX3Aanonymous__poker_u99.bind(null); Temporary1.ClP_0 = HEX3Aanonymous__poker_u99; Temporary1.ClE_0 = null;
    sort__poker_u109(result_1191182414, Temporary1, 1);

  return result_1191182414;

}

function isStraight__poker_u235(cards_p0) {
  var result_1191182573 = false;

  BeforeRet: {
    if (!(((cards_p0).length == 5))) {
    result_1191182573 = false;
    break BeforeRet;
    }
    
    var v0_1191182577 = rankValue__poker_u21(cards_p0[chckIndx(0, 0, (cards_p0).length - 1)].rank);
    var v4_1191182578 = rankValue__poker_u21(cards_p0[chckIndx(4, 0, (cards_p0).length - 1)].rank);
    if ((subInt(v4_1191182578, v0_1191182577) == 4)) {
    result_1191182573 = true;
    break BeforeRet;
    }
    
    if ((((((v4_1191182578 == 14) && (cards_p0[chckIndx(0, 0, (cards_p0).length - 1)].rank == 2)) && (cards_p0[chckIndx(1, 0, (cards_p0).length - 1)].rank == 3)) && (cards_p0[chckIndx(2, 0, (cards_p0).length - 1)].rank == 4)) && (cards_p0[chckIndx(3, 0, (cards_p0).length - 1)].rank == 5))) {
    result_1191182573 = true;
    break BeforeRet;
    }
    
    result_1191182573 = false;
  };

  return result_1191182573;

}

function detectPokerHand__poker_u275(cards_p0) {
  var result_1191182613 = 0;

  BeforeRet: {
    if (!(((cards_p0).length == 5))) {
    result_1191182613 = 0;
    break BeforeRet;
    }
    
    var byRank_1191182617 = countRanks__poker_u259(cards_p0);
    var counts_1191182618 = [];
    Label1: {
      var r_1191182623 = 0;
      var res_553648411 = 2;
      Label2: {
          Label3: while (true) {
          if (!(res_553648411 <= 14)) break Label3;
            r_1191182623 = res_553648411;
            if ((0 < byRank_1191182617[chckIndx(r_1191182623, 2, (byRank_1191182617).length + (2) - 1) - (2)])) {
            counts_1191182618.push(byRank_1191182617[chckIndx(r_1191182623, 2, (byRank_1191182617).length + (2) - 1) - (2)]);;
            }
            
            res_553648411 = addInt(res_553648411, 1);
          }
      };
    };
    sort__poker_u292(counts_1191182618, 0);
    var flush_1191182814 = isFlush__poker_u29(cards_p0);
    var sortedCards_1191182815 = cardRankOrder__poker_u76(cards_p0);
    var straight_1191182816 = isStraight__poker_u235(sortedCards_1191182815);
    if ((flush_1191182814 && straight_1191182816)) {
    result_1191182613 = 8;
    break BeforeRet;
    }
    
    if (((1 <= (counts_1191182618).length) && (counts_1191182618[chckIndx(0, 0, (counts_1191182618).length - 1)] == 4))) {
    result_1191182613 = 7;
    break BeforeRet;
    }
    
    if ((((2 <= (counts_1191182618).length) && (counts_1191182618[chckIndx(0, 0, (counts_1191182618).length - 1)] == 3)) && (counts_1191182618[chckIndx(1, 0, (counts_1191182618).length - 1)] == 2))) {
    result_1191182613 = 6;
    break BeforeRet;
    }
    
    if (flush_1191182814) {
    result_1191182613 = 5;
    break BeforeRet;
    }
    
    if (straight_1191182816) {
    result_1191182613 = 4;
    break BeforeRet;
    }
    
    if (((1 <= (counts_1191182618).length) && (counts_1191182618[chckIndx(0, 0, (counts_1191182618).length - 1)] == 3))) {
    result_1191182613 = 3;
    break BeforeRet;
    }
    
    if ((((2 <= (counts_1191182618).length) && (counts_1191182618[chckIndx(0, 0, (counts_1191182618).length - 1)] == 2)) && (counts_1191182618[chckIndx(1, 0, (counts_1191182618).length - 1)] == 2))) {
    result_1191182613 = 2;
    break BeforeRet;
    }
    
    if (((1 <= (counts_1191182618).length) && (counts_1191182618[chckIndx(0, 0, (counts_1191182618).length - 1)] == 2))) {
    result_1191182613 = 1;
    break BeforeRet;
    }
    
    result_1191182613 = 0;
  };

  return result_1191182613;

}

function baseChipsAndMult__poker_u529(kind_p0) {
    var Temporary1;

  var result_1191182867 = {Field0: 0, Field1: 0};

    switch (kind_p0) {
    case 0:
      Temporary1 = {Field0: 10, Field1: 1};
      break;
    case 1:
      Temporary1 = {Field0: 20, Field1: 2};
      break;
    case 2:
      Temporary1 = {Field0: 40, Field1: 2};
      break;
    case 3:
      Temporary1 = {Field0: 60, Field1: 3};
      break;
    case 4:
      Temporary1 = {Field0: 80, Field1: 4};
      break;
    case 5:
      Temporary1 = {Field0: 100, Field1: 4};
      break;
    case 6:
      Temporary1 = {Field0: 120, Field1: 4};
      break;
    case 7:
      Temporary1 = {Field0: 160, Field1: 7};
      break;
    case 8:
      Temporary1 = {Field0: 200, Field1: 8};
      break;
    }
    result_1191182867 = nimCopy(result_1191182867, Temporary1, NTI1191182340);

  return result_1191182867;

}

function HEX2AHEX3D__pureZtimes_u3104(x_p0, x_p0_Idx, y_p1) {
    x_p0[x_p0_Idx] = mulInt(x_p0[x_p0_Idx], y_p1);

  
}

function computeScore__scoring_u14(handKind_p0, cards_p1, jokers_p2) {
  var result_1224736786 = 0;

    var tmpTuple_1224736787 = baseChipsAndMult__poker_u529(handKind_p0);
    var chips_1224736788 = tmpTuple_1224736787["Field0"];
    var mult_1224736789 = [tmpTuple_1224736787["Field1"]];
    Label1: {
      var j_1224736812 = ({name: [], effect: 0, value: 0});
      var i_553648436 = 0;
      var L_553648437 = (jokers_p2).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648436 < L_553648437)) break Label3;
            j_1224736812 = jokers_p2[chckIndx(i_553648436, 0, (jokers_p2).length - 1)];
            switch (j_1224736812.effect) {
            case 0:
              chips_1224736788 = addInt(chips_1224736788, j_1224736812.value);
              break;
            case 1:
              mult_1224736789[0] = addInt(mult_1224736789[0], j_1224736812.value);
              break;
            case 2:
              HEX2AHEX3D__pureZtimes_u3104(mult_1224736789, 0, j_1224736812.value);
              break;
            }
            i_553648436 += 1;
            if (!(((jokers_p2).length == L_553648437))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    result_1224736786 = mulInt(chips_1224736788, mult_1224736789[0]);

  return result_1224736786;

}

function nextPowerOfTwo__pureZmath_u274(x_p0) {
  var result_738197780 = 0;

    result_738197780 = (x_p0 - 1);
    result_738197780 = (result_738197780 | (result_738197780 >> 16));
    result_738197780 = (result_738197780 | (result_738197780 >> 8));
    result_738197780 = (result_738197780 | (result_738197780 >> 4));
    result_738197780 = (result_738197780 | (result_738197780 >> 2));
    result_738197780 = (result_738197780 | (result_738197780 >> 1));
    result_738197780 += (1 + ((x_p0 <= 0) ? 1 : 0));

  return result_738197780;

}

function slotsNeeded__pureZcollectionsZsets_u50(count_p0) {
  var result_1258291252 = 0;

    result_1258291252 = nextPowerOfTwo__pureZmath_u274(addInt(addInt(divInt(count_p0, 2), count_p0), 4));

  return result_1258291252;

}

function init__round_u126(s_p0, initialSize_p1) {
    var correctSizeHEX60gensym5_1241514115 = slotsNeeded__pureZcollectionsZsets_u50(chckRange(initialSize_p1, 0, 2147483647));
    s_p0.counter = 0;
    s_p0.data = new Array(chckRange(correctSizeHEX60gensym5_1241514115, 0, 2147483647)); for (var i = 0 ; i < chckRange(correctSizeHEX60gensym5_1241514115, 0, 2147483647) ; ++i) { s_p0.data[i] = {Field0: 0, Field1: 0}; }
  
}

function initHashSet__round_u112(initialSize_p0) {
  var result_1241514099 = [({data: [], counter: 0})];

    result_1241514099[0] = nimCopy(result_1241514099[0], ({data: [], counter: 0}), NTI1241514048);
    init__round_u126(result_1241514099[0], initialSize_p0);

  return result_1241514099[0];

}

function hasJsBigInt__stdZprivateZjsutils_u43() {
  var result_872415276 = false;

    result_872415276 = typeof BigInt != 'undefined';

  return result_872415276;

}

function hiXorLoJs__pureZhashes_u86(a_p0, b_p1) {
  var result_1275068505 = 0n;

    var prod_1275068506 = (a_p0 * b_p1);
    var mask_1275068507 = BigInt("0xffffffffffffffff");
    result_1275068505 = ((prod_1275068506 >> BigInt("64")) ^ (prod_1275068506 & mask_1275068507));

  return result_1275068505;

}

function hashWangYi1__pureZhashes_u194(x_p0) {
  var result_1275068613 = 0;

    if (hasJsBigInt__stdZprivateZjsutils_u43()) {
    var P0HEX60gensym4_1275068627 = BigInt("0xa0761d6478bd642f");
    var P1HEX60gensym4_1275068628 = BigInt("0xe7037ed1a0b428db");
    var P58HEX60gensym4_1275068629 = BigInt("0xeb44accab455d16d");
    var resHEX60gensym4_1275068630 = hiXorLoJs__pureZhashes_u86(hiXorLoJs__pureZhashes_u86(P0HEX60gensym4_1275068627, (BigInt(x_p0) ^ P1HEX60gensym4_1275068628)), P58HEX60gensym4_1275068629);
    result_1275068613 = Number((() => { const i = resHEX60gensym4_1275068630, b = 32; return BigInt.asIntN(b, i) })());
    }
    else {
      result_1275068613 = (Number(BigInt.asIntN(32, x_p0)) & Number(BigInt.asIntN(32, 4294967295n)));
    }
    

  return result_1275068613;

}

function hash__pureZhashes_u186(x_p0) {
  var result_1275068605 = 0;

    result_1275068605 = hashWangYi1__pureZhashes_u194(BigInt.asUintN(64, BigInt(x_p0)));

  return result_1275068605;

}

function isFilled__pureZcollectionsZsets_u39(hcode_p0) {
  var result_1258291241 = false;

    result_1258291241 = !((hcode_p0 == 0));

  return result_1258291241;

}

function nextTry__pureZcollectionsZsets_u42(h_p0, maxHash_p1) {
  var result_1258291245 = 0;

    result_1258291245 = (addInt(h_p0, 1) & maxHash_p1);

  return result_1258291245;

}

function rawGet__round_u249(t_p0, key_p1, hc_p2, hc_p2_Idx) {
  var result_1241514239 = 0;

  BeforeRet: {
    hc_p2[hc_p2_Idx] = hash__pureZhashes_u186(key_p1);
    if ((hc_p2[hc_p2_Idx] == 0)) {
    hc_p2[hc_p2_Idx] = 314159265;
    }
    
    if (((t_p0.data).length == 0)) {
    result_1241514239 = (-1);
    break BeforeRet;
    }
    
    var h_1241514267 = (hc_p2[hc_p2_Idx] & (t_p0.data).length - 1);
    Label1: {
        Label2: while (true) {
        if (!isFilled__pureZcollectionsZsets_u39(t_p0.data[chckIndx(h_1241514267, 0, (t_p0.data).length - 1)].Field0)) break Label2;
          if (((t_p0.data[chckIndx(h_1241514267, 0, (t_p0.data).length - 1)].Field0 == hc_p2[hc_p2_Idx]) && (t_p0.data[chckIndx(h_1241514267, 0, (t_p0.data).length - 1)].Field1 == key_p1))) {
          result_1241514239 = h_1241514267;
          break BeforeRet;
          }
          
          h_1241514267 = nextTry__pureZcollectionsZsets_u42(h_1241514267, (t_p0.data).length - 1);
        }
    };
    result_1241514239 = subInt((-1), h_1241514267);
  };

  return result_1241514239;

}

function mustRehash__round_u315(t_p0) {
  var result_1241514302 = false;

    if (!((t_p0.counter < (t_p0.data).length))) {
    failedAssertImpl__stdZassertions_u84([104,97,115,104,99,111,109,109,111,110,46,110,105,109,40,51,52,44,32,57,41,32,96,10,116,46,99,111,117,110,116,101,114,32,60,32,116,46,100,97,116,97,76,101,110,96,32]);
    }
    
    result_1241514302 = (((t_p0.data).length < addInt(t_p0.counter, divInt(t_p0.counter, 2))) || (subInt((t_p0.data).length, t_p0.counter) < 4));

  return result_1241514302;

}

function rawGetKnownHC__round_u441(t_p0, key_p1, hc_p2) {
  var result_1241514431 = 0;

  BeforeRet: {
    if (((t_p0.data).length == 0)) {
    result_1241514431 = (-1);
    break BeforeRet;
    }
    
    var h_1241514453 = (hc_p2 & (t_p0.data).length - 1);
    Label1: {
        Label2: while (true) {
        if (!isFilled__pureZcollectionsZsets_u39(t_p0.data[chckIndx(h_1241514453, 0, (t_p0.data).length - 1)].Field0)) break Label2;
          if (((t_p0.data[chckIndx(h_1241514453, 0, (t_p0.data).length - 1)].Field0 == hc_p2) && (t_p0.data[chckIndx(h_1241514453, 0, (t_p0.data).length - 1)].Field1 == key_p1))) {
          result_1241514431 = h_1241514453;
          break BeforeRet;
          }
          
          h_1241514453 = nextTry__pureZcollectionsZsets_u42(h_1241514453, (t_p0.data).length - 1);
        }
    };
    result_1241514431 = subInt((-1), h_1241514453);
  };

  return result_1241514431;

}

function rawInsert__round_u498(s_p0, data_p1, data_p1_Idx, key_p2, hc_p3, h_p4) {
    if (((data_p1[data_p1_Idx]).length == 0)) {
    var correctSizeHEX60gensym15_1241514508 = slotsNeeded__pureZcollectionsZsets_u50(64);
    s_p0.counter = 0;
    s_p0.data = new Array(chckRange(correctSizeHEX60gensym15_1241514508, 0, 2147483647)); for (var i = 0 ; i < chckRange(correctSizeHEX60gensym15_1241514508, 0, 2147483647) ; ++i) { s_p0.data[i] = {Field0: 0, Field1: 0}; }    }
    
    data_p1[data_p1_Idx][chckIndx(h_p4, 0, (data_p1[data_p1_Idx]).length - 1)].Field1 = key_p2;
    data_p1[data_p1_Idx][chckIndx(h_p4, 0, (data_p1[data_p1_Idx]).length - 1)].Field0 = hc_p3;

  
}

function enlarge__round_u389(s_p0) {
    var n_1241514377 = [];
    n_1241514377 = new Array(chckRange(mulInt((s_p0.data).length, 2), 0, 2147483647)); for (var i = 0 ; i < chckRange(mulInt((s_p0.data).length, 2), 0, 2147483647) ; ++i) { n_1241514377[i] = {Field0: 0, Field1: 0}; }    var HEX3Atmp_553648448 = nimCopy(null, s_p0.data, NTI1241514051);
    s_p0.data = n_1241514377;
    n_1241514377 = HEX3Atmp_553648448;
    Label1: {
      var i_1241514412 = 0;
      var colontmp__553648444 = 0;
      colontmp__553648444 = (n_1241514377).length - 1;
      var res_553648446 = 0;
      Label2: {
          Label3: while (true) {
          if (!(res_553648446 <= colontmp__553648444)) break Label3;
            i_1241514412 = res_553648446;
            if (isFilled__pureZcollectionsZsets_u39(n_1241514377[chckIndx(i_1241514412, 0, (n_1241514377).length - 1)].Field0)) {
            var j_1241514469 = subInt((-1), rawGetKnownHC__round_u441(s_p0, n_1241514377[chckIndx(i_1241514412, 0, (n_1241514377).length - 1)].Field1, n_1241514377[chckIndx(i_1241514412, 0, (n_1241514377).length - 1)].Field0));
            rawInsert__round_u498(s_p0, s_p0, "data", n_1241514377[chckIndx(i_1241514412, 0, (n_1241514377).length - 1)].Field1, n_1241514377[chckIndx(i_1241514412, 0, (n_1241514377).length - 1)].Field0, j_1241514469);
            }
            
            res_553648446 = addInt(res_553648446, 1);
          }
      };
    };

  
}

function incl__round_u202(s_p0, key_p1) {
    if (((s_p0.data).length == 0)) {
    var correctSizeHEX60gensym6_1241514210 = slotsNeeded__pureZcollectionsZsets_u50(64);
    s_p0.counter = 0;
    s_p0.data = new Array(chckRange(correctSizeHEX60gensym6_1241514210, 0, 2147483647)); for (var i = 0 ; i < chckRange(correctSizeHEX60gensym6_1241514210, 0, 2147483647) ; ++i) { s_p0.data[i] = {Field0: 0, Field1: 0}; }    }
    
    var hc_1241514225 = [0];
    var index_1241514298 = rawGet__round_u249(s_p0, key_p1, hc_1241514225, 0);
    if ((index_1241514298 < 0)) {
    if (mustRehash__round_u315(s_p0)) {
    enlarge__round_u389(s_p0);
    index_1241514298 = rawGetKnownHC__round_u441(s_p0, key_p1, hc_1241514225[0]);
    }
    
    rawInsert__round_u498(s_p0, s_p0, "data", key_p1, hc_1241514225[0], subInt((-1), index_1241514298));
    s_p0.counter = addInt(s_p0.counter, 1);
    }
    

  
}

function toHashSet__round_u92(keys_p0) {
  var result_1241514083 = [({data: [], counter: 0})];

    result_1241514083[0] = nimCopy(result_1241514083[0], initHashSet__round_u112((keys_p0).length), NTI1241514048);
    Label1: {
      var key_1241514166 = 0;
      var i_553648440 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_553648440 < (keys_p0).length)) break Label3;
            key_1241514166 = keys_p0[chckIndx(i_553648440, 0, (keys_p0).length - 1)];
            incl__round_u202(result_1241514083[0], key_1241514166);
            i_553648440 += 1;
          }
      };
    };

  return result_1241514083[0];

}

function contains__round_u598(s_p0, key_p1) {
  var result_1241514586 = false;

    var hc_1241514587 = [0];
    var index_1241514601 = rawGet__round_u249(s_p0, key_p1, hc_1241514587, 0);
    result_1241514586 = (0 <= index_1241514601);

  return result_1241514586;

}

function playHand__round_u48(rs_p0, selectedIndices_p1) {
  var result_1241514035 = 0;

  BeforeRet: {
    if (!(((selectedIndices_p1).length == 5))) {
    result_1241514035 = 2;
    break BeforeRet;
    }
    
    if ((rs_p0.handsLeft <= 0)) {
    result_1241514035 = 2;
    break BeforeRet;
    }
    
    var selected_1241514039 = [];
    Label1: {
      var i_1241514061 = 0;
      var i_553648398 = 0;
      var L_553648399 = (selectedIndices_p1).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648398 < L_553648399)) break Label3;
            i_1241514061 = selectedIndices_p1[chckIndx(i_553648398, 0, (selectedIndices_p1).length - 1)];
            if (((i_1241514061 < 0) || ((rs_p0.hand).length <= i_1241514061))) {
            result_1241514035 = 2;
            break BeforeRet;
            }
            
            var Temporary4 = nimCopy(null, rs_p0.hand[chckIndx(i_1241514061, 0, (rs_p0.hand).length - 1)], NTI1090519045);
            selected_1241514039.push(Temporary4);;
            i_553648398 += 1;
            if (!(((selectedIndices_p1).length == L_553648399))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    var kind_1241514069 = detectPokerHand__poker_u275(selected_1241514039);
    var score_1241514070 = computeScore__scoring_u14(kind_1241514069, selected_1241514039, rs_p0.jokers);
    if ((rs_p0.targetChips <= score_1241514070)) {
    result_1241514035 = 0;
    break BeforeRet;
    }
    
    rs_p0.handsLeft = subInt(rs_p0.handsLeft, 1);
    var newHand_1241514075 = [];
    var chosen_1241514560 = toHashSet__round_u92(selectedIndices_p1);
    Label5: {
      var i_1241514568 = 0;
      var colontmp__553648402 = 0;
      colontmp__553648402 = (rs_p0.hand).length;
      var i_553648403 = 0;
      Label6: {
          Label7: while (true) {
          if (!(i_553648403 < colontmp__553648402)) break Label7;
            i_1241514568 = i_553648403;
            if (!(contains__round_u598(chosen_1241514560, i_1241514568))) {
            var Temporary8 = nimCopy(null, rs_p0.hand[chckIndx(i_1241514568, 0, (rs_p0.hand).length - 1)], NTI1090519045);
            newHand_1241514075.push(Temporary8);;
            }
            
            i_553648403 = addInt(i_553648403, 1);
          }
      };
    };
    var drawn_1241514606 = draw__cards_u217(rs_p0.deck, 5);
    Label9: {
      var c_1241514610 = ({suit: 0, rank: 0});
      var i_553648407 = 0;
      var L_553648408 = (drawn_1241514606).length;
      Label10: {
          Label11: while (true) {
          if (!(i_553648407 < L_553648408)) break Label11;
            c_1241514610 = drawn_1241514606[chckIndx(i_553648407, 0, (drawn_1241514606).length - 1)];
            var Temporary12 = nimCopy(null, c_1241514610, NTI1090519045);
            newHand_1241514075.push(Temporary12);;
            i_553648407 += 1;
            if (!(((drawn_1241514606).length == L_553648408))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    rs_p0.hand = nimCopy(null, newHand_1241514075, NTI1241514042);
    if (((rs_p0.handsLeft <= 0) || ((rs_p0.hand).length < 5))) {
    result_1241514035 = 2;
    break BeforeRet;
    }
    
    result_1241514035 = 1;
  };

  return result_1241514035;

}

function advanceRound__blinds_u35(progress_p0) {
    progress_p0.roundInAnte = addInt(progress_p0.roundInAnte, 1);
    if ((3 <= progress_p0.roundInAnte)) {
    progress_p0.roundInAnte = 0;
    progress_p0.ante = addInt(progress_p0.ante, 1);
    }
    

  
}

function cashForBlind__shop_u7(blindIndex_p0) {
  var result_1375731721 = 0;

    result_1375731721 = addInt(10, mulInt(blindIndex_p0, 5));

  return result_1375731721;

}

function hasWonRun__blinds_u45(progress_p0) {
  var result_1358954543 = false;

    result_1358954543 = (9 <= progress_p0.ante);

  return result_1358954543;

}

function onPlayHand__main_u17() {
  BeforeRet: {
    if (!(((gSelected_553648138[0]).length == 5))) {
    break BeforeRet;
    }
    
    var res_553648149 = playHand__round_u48(gRoundState_553648137[0], gSelected_553648138[0]);
    gSelected_553648138[0] = nimCopy(null, [], NTI553648164);
    switch (res_553648149) {
    case 0:
      var blindIdx_553648154 = gRunState_553648136[0].progress.roundInAnte;
      advanceRound__blinds_u35(gRunState_553648136[0].progress);
      gRunState_553648136[0].money = addInt(gRunState_553648136[0].money, cashForBlind__shop_u7(blindIdx_553648154));
      if (hasWonRun__blinds_u45(gRunState_553648136[0].progress)) {
      gMode_553648139[0] = nimCopy(null, [119,105,110], NTI33554449);
      }
      else {
        gMode_553648139[0] = nimCopy(null, [115,104,111,112], NTI33554449);
      }
      
      break;
    case 1:
      break;
    case 2:
      gMode_553648139[0] = nimCopy(null, [108,111,115,101], NTI33554449);
      break;
    }
    render__main_u12();
  };

  
}

function integerOutOfRangeError__pureZparseutils_u325() {
    raiseException({message: [80,97,114,115,101,100,32,105,110,116,101,103,101,114,32,111,117,116,115,105,100,101,32,111,102,32,118,97,108,105,100,32,114,97,110,103,101], parent: null, m_type: NTI134217746, name: null, trace: [], up: null}, "ValueError");

  
}

function rawParseInt__pureZparseutils_u363(s_p0, b_p1, b_p1_Idx) {
      var Temporary1;
          var Temporary4;

  var result_721420654 = 0;

    var sign_721420655 = (-1n);
    var i_721420656 = 0;
    if ((i_721420656 < (s_p0).length)) {
    if ((s_p0[chckIndx(i_721420656, 0, (s_p0).length - 1)] == 43)) {
    i_721420656 += 1;
    }
    else {
    if ((s_p0[chckIndx(i_721420656, 0, (s_p0).length - 1)] == 45)) {
    i_721420656 += 1;
    sign_721420655 = 1n;
    }
    }
    }
    
      if (!(i_721420656 < (s_p0).length)) Temporary1 = false; else {        Temporary1 = (ConstSet2[s_p0[chckIndx(i_721420656, 0, (s_p0).length - 1)]] != undefined);      }    if (Temporary1) {
    b_p1[b_p1_Idx] = 0n;
    Label2: {
        Label3: while (true) {
          if (!(i_721420656 < (s_p0).length)) Temporary4 = false; else {            Temporary4 = (ConstSet3[s_p0[chckIndx(i_721420656, 0, (s_p0).length - 1)]] != undefined);          }        if (!Temporary4) break Label3;
          var c_721420690 = (s_p0[chckIndx(i_721420656, 0, (s_p0).length - 1)] - 48);
          if ((((-9223372036854775808n) + BigInt(c_721420690)) / 10n <= b_p1[b_p1_Idx])) {
          b_p1[b_p1_Idx] = ((b_p1[b_p1_Idx] * 10n) - BigInt(c_721420690));
          }
          else {
          integerOutOfRangeError__pureZparseutils_u325();
          }
          
          i_721420656 += 1;
          Label5: {
              Label6: while (true) {
              if (!((i_721420656 < (s_p0).length) && (s_p0[chckIndx(i_721420656, 0, (s_p0).length - 1)] == 95))) break Label6;
                i_721420656 += 1;
              }
          };
        }
    };
    if (((sign_721420655 == (-1n)) && (b_p1[b_p1_Idx] == (-9223372036854775808n)))) {
    integerOutOfRangeError__pureZparseutils_u325();
    }
    else {
      b_p1[b_p1_Idx] = (b_p1[b_p1_Idx] * sign_721420655);
      result_721420654 = i_721420656;
    }
    
    }
    else {
      result_721420654 = 0;
    }
    

  return result_721420654;

}

function npuParseBiggestInt(s_p0, number_p1, number_p1_Idx) {
  var result_721420715 = 0;

    var res_721420716 = [0n];
    result_721420715 = rawParseInt__pureZparseutils_u363(s_p0, res_721420716, 0);
    if (!((result_721420715 == 0))) {
    number_p1[number_p1_Idx] = res_721420716[0];
    }
    

  return result_721420715;

}

function npuParseInt(s_p0, number_p1, number_p1_Idx) {
  var result_721420720 = 0;

    var res_721420721 = [0n];
    result_721420720 = npuParseBiggestInt(s_p0, res_721420721, 0);
    if (((res_721420721[0] < (-2147483648n)) || (2147483647n < res_721420721[0]))) {
    integerOutOfRangeError__pureZparseutils_u325();
    }
    
    if (!((result_721420720 == 0))) {
    number_p1[number_p1_Idx] = chckRange(Number(res_721420721[0]), (-2147483648), 2147483647);
    }
    

  return result_721420720;

}

function parseInt__pureZparseutils_u951(s_p0, number_p1, number_p1_Idx, start_p2) {
  var result_721421243 = 0;

    result_721421243 = npuParseInt((s_p0.slice(start_p2, (s_p0).length - 1 + 1)), number_p1, number_p1_Idx);

  return result_721421243;

}

function nsuParseInt(s_p0) {
  var result_704643930 = [0];

    result_704643930[0] = 0;
    var L_704643931 = parseInt__pureZparseutils_u951(s_p0, result_704643930, 0, 0);
    if ((!((L_704643931 == (s_p0).length)) || (L_704643931 == 0))) {
    raiseException({message: ([105,110,118,97,108,105,100,32,105,110,116,101,103,101,114,58,32]).concat(s_p0), parent: null, m_type: NTI134217746, name: null, trace: [], up: null}, "ValueError");
    }
    

  return result_704643930[0];

}

function find__main_u88(a_p0, item_p1) {
  var result_553648221 = 0;

  BeforeRet: {
    result_553648221 = 0;
    Label1: {
      var i_553648225 = 0;
      var i_553648453 = 0;
      var L_553648454 = (a_p0).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648453 < L_553648454)) break Label3;
            i_553648225 = a_p0[chckIndx(i_553648453, 0, (a_p0).length - 1)];
            if ((i_553648225 == item_p1)) {
            break BeforeRet;
            }
            
            result_553648221 = addInt(result_553648221, 1);
            i_553648453 += 1;
            if (!(((a_p0).length == L_553648454))) {
            failedAssertImpl__stdZassertions_u84(makeNimstrLit("iterators.nim(254, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      };
    };
    result_553648221 = (-1);
  };

  return result_553648221;

}

function del__main_u104(x_p0, x_p0_Idx, i_p1) {
    var xl_553648239 = subInt((x_p0[x_p0_Idx]).length, 1);
    x_p0[x_p0_Idx][chckIndx(i_p1, 0, (x_p0[x_p0_Idx]).length - 1)] = x_p0[x_p0_Idx][chckIndx(xl_553648239, 0, (x_p0[x_p0_Idx]).length - 1)];
    if (x_p0[x_p0_Idx].length < chckRange(xl_553648239, 0, 2147483647)) { for (var i = x_p0[x_p0_Idx].length ; i < chckRange(xl_553648239, 0, 2147483647) ; ++i) x_p0[x_p0_Idx].push(0); }
               else { x_p0[x_p0_Idx].length = chckRange(xl_553648239, 0, 2147483647); };

  
}

function run__main_u73() {
    var Temporary1;

function HEX3Aanonymous__main_u78(ev_p0) {
  BeforeRet: {
    var target_553648208 = ev_p0.target;
    if ((target_553648208 == null)) {
    break BeforeRet;
    }
    
    var dataIndex_553648212 = target_553648208.getAttribute("data-index");
    var dataPlay_553648213 = target_553648208.getAttribute("data-play");
    var dataNext_553648214 = target_553648208.getAttribute("data-next");
    if (!((dataPlay_553648213 == ""))) {
    onPlayHand__main_u17();
    }
    else {
    if (!((dataNext_553648214 == ""))) {
    startNewRound__main_u47();
    }
    else {
    if (!((dataIndex_553648212 == ""))) {
    var idx_553648215 = nsuParseInt(cstrToNimstr(dataIndex_553648212));
    var pos_553648231 = find__main_u88(gSelected_553648138[0], idx_553648215);
    if ((0 <= pos_553648231)) {
    del__main_u104(gSelected_553648138, 0, chckRange(pos_553648231, 0, 2147483647));
    }
    else {
    if (((gSelected_553648138[0]).length < 5)) {
    gSelected_553648138[0].push(idx_553648215);;
    }
    }
    render__main_u12();
    }
    }}
  };

  
}

    gRunState_553648136[0] = nimCopy(gRunState_553648136[0], initRunState__game_u14(), NTI1073741827);
    startNewRound__main_u47();
    var el_553648202 = document.getElementById("game");
    if (!((el_553648202 == null))) {
    Temporary1 = HEX3Aanonymous__main_u78.bind(null); Temporary1.ClP_0 = HEX3Aanonymous__main_u78; Temporary1.ClE_0 = null;
    el_553648202.addEventListener("click", Temporary1, false);
    }
    

  
}
var gRunState_553648136 = [({progress: ({ante: 0, roundInAnte: 0}), money: 0, deck: ({cards: []}), jokers: [], handsPerRound: 0, discardsPerRound: 0})];
var gRoundState_553648137 = [({handsLeft: 0, discardsLeft: 0, hand: [], deck: ({cards: []}), targetChips: 0, jokers: []})];
var gSelected_553648138 = [[]];
var gMode_553648139 = [[114,111,117,110,100]];
run__main_u73();
